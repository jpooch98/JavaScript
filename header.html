<?php # Script 17.1 - header.html
	 /* This script...
	 * - starts the HTML template.
	 * - indicates the encoding using header().
	 * - starts the session.
	 		* - gets the language-specific words
from the database.
	 * - lists the available languages.
	 */
	
	 // Indicate the encoding:
	 header ('Content-Type: text/html;
charset=UTF-8');
	
	 // Start the session:
	 session_start( );
	
	 // For testing purposes:
	 $_SESSION['user_id'] = 1;
	 $_SESSION['user_tz'] = 'America/New_York';
	 // For logging out:
	 //$_SESSION = array( );
	
	 // Need the database connection:
	 require ('../mysqli_connect.php');
	
	 // Check for a new language ID...
	 // Then store the language ID in the
session:
	 if ( isset($_GET['lid']) &&
	 	 filter_var($_GET['lid'], FILTER_
VALIDATE_INT, array('min_range' => 1))
	 	 ) {
	 	 $_SESSION['lid'] = $_GET['lid'];
	 } elseif (!isset($_SESSION['lid'])) {
	 	 $_SESSION['lid'] = 1; // Default.
	 }
	
	 // Get the words for this language:
	 $q = "SELECT * FROM words WHERE lang_id
= {$_SESSION['lid']}";
	 $r = mysqli_query($dbc, $q);
	 if (mysqli_num_rows($r) == 0) { //
Invalid language ID!
	 	
	 	 // Use the default language:
	 	 $_SESSION['lid'] = 1; // Default.